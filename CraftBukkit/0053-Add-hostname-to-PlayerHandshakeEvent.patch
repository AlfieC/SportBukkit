From c2f25842ea26920358b7153be12b06642d1b0ee4 Mon Sep 17 00:00:00 2001
From: Marcos Vives Del Sol <socram8888@gmail.com>
Date: Sun, 28 Jul 2013 22:10:42 +0200
Subject: [PATCH] Add hostname to PlayerHandshakeEvent


diff --git a/src/main/java/net/minecraft/server/PendingConnection.java b/src/main/java/net/minecraft/server/PendingConnection.java
index 1817301..1ed8da0 100644
--- a/src/main/java/net/minecraft/server/PendingConnection.java
+++ b/src/main/java/net/minecraft/server/PendingConnection.java
@@ -86,7 +86,7 @@ public class PendingConnection extends Connection {
                     random.nextBytes(this.d);
 
                     // CraftBukkit start
-                    PlayerHandshakeEvent handshakeEvent = new PlayerHandshakeEvent(this.g, this.loginKey, publickey, this.d);
+                    PlayerHandshakeEvent handshakeEvent = new PlayerHandshakeEvent(this.g, this.loginKey, publickey, this.d, this.hostname);
                     this.server.server.getPluginManager().callEvent(handshakeEvent);
                     this.loginKey = handshakeEvent.getLoginKey();
                     // CraftBukkit end
-- 
1.7.12.4 (Apple Git-37)

